{% extends 'base.html.twig' %}

{% block title %}Planning{% endblock %}

{% block body %}
    <div class="container-fluid mt-4">
        <div class="row">
            <div class="col-lg-10">
                <div class="card shadow-sm p-2 p-md-4 mb-4">
                    <div id="calendar-holder" data-src-url="{{ path('fc_load_events') }}"></div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="dropdown mb-4">
                    <button class="btn btn-primary btn-block dropdown-toggle" type="button" id="dropdownMenuButtonWorkTimes" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-plus"></i> Créer</button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButtonWorkTimes">
                        <a class="dropdown-item" href="{{ path('workTime.new') }}">Période</a>
                        <a class="dropdown-item" href="{{ path('task.new') }}">Tâche</a>
                    </div>
                </div>
                <div class="accordion list-group mb-4 shadow-sm" id="accordionCaption">
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <h2 class="mb-0">
                                <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    <i class="far fa-calendar"></i> Périodes
                                </button>
                            </h2>
                        </div>
                        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionCaption">
                            <div class="card-body">
                                <p class="caption-item"><div class="item-badge" style="background-color: #B7D8BA;"></div>Présentiel</p>
                                <p class="caption-item"><div class="item-badge" style="background-color: #B5BBFF;"></div>Télétravail</p>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header" id="headingTwo">
                            <h2 class="mb-0">
                                <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                    <i class="fas fa-tasks"></i> Catégories
                                </button>
                            </h2>
                        </div>
                        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionCaption">
                            <div class="card-body">
                                {% for taskCategory in taskCategories %}
                                    <p class="planning-caption-item"><div class="item-badge" style="background-color: {{ taskCategory.color }};"></div>{{ taskCategory.name }}</p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dropdown mb-4">
                    <button class="btn btn-secondary btn-block dropdown-toggle" type="button" id="dropdownMenuButtonTasks" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-cog"></i> Gérer</button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButtonTasks">
                        <a class="dropdown-item" href="{{ path('workTime.index') }}">Périodes</a>
                        <a class="dropdown-item" href="{{ path('task.index') }}">Tâches</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('planning') }}
{% endblock %}